<div th:replace="~{fragments/header :: header}"></div>
<div class="container">
    <div class="d-flex justify-content-between">
        <h1 class="align-self-center">Listagem de Clientes</h1>
        <a class="btn btn-primary align-self-center" href="/users/form">Criar</a>
    </div>
    <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${!#strings.isEmpty(success)}">
        <span th:text="${success}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" id="successAlertButton"></button>
    </div>
    <table class="table">
        <thead>
            <tr class="table-active">
                <th>Id</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>Editar</th>
                <th>Excluir</th>
            </tr>
        </thead>
        <tr th:each="u : ${users}">
            <td th:text="${u.id}"> </td>
            <td th:text="${u.name}"> </td>
            <td th:text="${u.cpf}"> </td>
            <td> <a class="btn btn-outline-primary" th:href="@{/users/edit/{id}(id=${u.id})}"><i class="bi bi-pencil-square"></i></a> </td>
            <td> <a class="btn btn-outline-danger" onclick="return window.confirm('Tem certeza que deseja excluir este registro?')"  th:href="@{/users/remove/{id}(id=${u.id})}"><i class="bi bi-trash"></i></a> </td>
        </tr>
    </table>
</div>
<script>
    setTimeout(() => {
        document.getElementById('successAlertButton').click()
    }, 5000)
</script>
<div th:replace="~{fragments/footer :: footer}"></div>
